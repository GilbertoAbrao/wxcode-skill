# Design System Collection Flow

This document describes the design system collection flow during `/wxcode:new-project`.

## Overview

The design system collection phase captures visual design decisions to generate a DTCG (Design Token Community Group) file that serves as the **Source of Truth** for all UI generation.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    /wxcode:new-project                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Phase 1: Project Context                                               â”‚
â”‚  Phase 2: Stack Selection                                               â”‚
â”‚  Phase 3: Database Schema                                               â”‚
â”‚  Phase 4: Design System Collection  â† THIS PHASE                        â”‚
â”‚  Phase 5: Project Foundation                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Output Files

After collection, the following files are generated:

```
project/
â”œâ”€â”€ design/
â”‚   â”œâ”€â”€ tokens.json           # DTCG format (source of truth)
â”‚   â”œâ”€â”€ tailwind.config.ts    # Stack-specific (if Tailwind)
â”‚   â”œâ”€â”€ variables.css         # Stack-specific (if CSS vanilla)
â”‚   â””â”€â”€ README.md             # Human-readable documentation
```

---

## Collection Methods

Three methods are available, presented in order of recommendation:

| Method | Best For | Accuracy | Speed |
|--------|----------|----------|-------|
| **URL** | Existing sites, competitors | High (exact values) | Fast |
| **Screenshots** | Mockups, mobile apps, offline sites | Medium (approximate) | Medium |
| **Questionnaire** | From scratch, specific requirements | High (user-defined) | Slow (~12 questions) |

---

## Step 1: Method Selection

Present the user with three options:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DESIGN SYSTEM CONFIGURATION                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  To convert your project, I need to understand the target design.      â”‚
â”‚  How would you like to provide this information?                        â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â­ OPTION 1: Reference URL (Recommended)                       â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Paste the URL of a site with the desired visual style.         â”‚   â”‚
â”‚  â”‚  I'll automatically extract: colors, fonts, spacing,            â”‚   â”‚
â”‚  â”‚  shadows, border-radius, and more.                              â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  âœ… Most accurate (exact px, hex, font names)                   â”‚   â”‚
â”‚  â”‚  âœ… Fastest (fewer questions)                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“¸ OPTION 2: Screenshots                                       â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Send 1 or more reference images.                               â”‚   â”‚
â”‚  â”‚  I'll analyze visually and extract what's possible.             â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  âš ï¸ Approximate values (review/adjust needed)                   â”‚   â”‚
â”‚  â”‚  âœ… Useful for mockups, mobile apps, offline sites              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“ OPTION 3: Manual Questionnaire                              â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Answer questions about your preferences.                       â”‚   â”‚
â”‚  â”‚  Ideal if you know exactly what you want.                       â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  âš ï¸ Slower (~12-15 questions)                                   â”‚   â”‚
â”‚  â”‚  âœ… Full control over every decision                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**For WinDev/WebDev conversions:** If the user wants to preserve the legacy visual style, they can provide the URL or screenshot of the current system.

---

## Step 2a: URL Extraction

### Input

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  URL EXTRACTION                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Paste the reference site URL:                                          â”‚
â”‚  [https://_______________________________________________]              â”‚
â”‚                                                                         â”‚
â”‚  ğŸ’¡ Tip: Can be the current company site, a competitor,                â”‚
â”‚     or any site with the desired visual style.                         â”‚
â”‚                                                                         â”‚
â”‚  [ ] Include dark mode (if available)                                   â”‚
â”‚  [ ] Analyze mobile version too                                         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Extraction Process

1. **Primary: WebFetch**
   - Fetch the URL content
   - Parse CSS for colors, fonts, spacing
   - Extract computed styles

2. **Fallback: MCP Playwright**
   - If WebFetch fails (CSP, JS-rendered, blocked)
   - Use Playwright to render and extract
   - Access computed styles via JavaScript

```python
# Extraction targets
extraction = {
    "colors": {
        "from_css_variables": True,      # --primary, --secondary, etc.
        "from_computed_styles": True,    # background, color, border
        "from_logo": True,               # Dominant colors
        "from_buttons": True,            # CTA colors
    },
    "typography": {
        "font_families": True,
        "font_sizes": True,
        "font_weights": True,
        "line_heights": True,
    },
    "spacing": {
        "detect_base": True,             # 4px or 8px system
        "padding_values": True,
        "margin_values": True,
        "gap_values": True,
    },
    "shadows": {
        "box_shadows": True,
        "text_shadows": False,           # Usually not needed
    },
    "borders": {
        "border_radius": True,
        "border_widths": True,
    }
}
```

### Confidence Levels

Extracted values are categorized by confidence:

| Level | Criteria | Action |
|-------|----------|--------|
| **High** | Found in CSS variables, logo, CTAs, repeated patterns | Auto-include |
| **Medium** | Found in secondary elements, less frequent | Ask user to confirm |
| **Low** | Ambiguous, could be incidental | Show but don't include by default |

### Preview and Confirmation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… DESIGN SYSTEM EXTRACTED                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Review and adjust if needed:                                           â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  COLORS                                                    [Edit âœï¸]   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  High confidence (detected in logo, CTAs, main elements):              â”‚
â”‚                                                                         â”‚
â”‚  â— Primary      #635bff  â–ˆâ–ˆâ–ˆâ–ˆ  â† Detected in logo and buttons          â”‚
â”‚  â— Text         #0a2540  â–ˆâ–ˆâ–ˆâ–ˆ  â† Main text color                       â”‚
â”‚  â— Background   #f6f9fc  â–ˆâ–ˆâ–ˆâ–ˆ  â† Predominant background                â”‚
â”‚  â— Accent       #00d4ff  â–ˆâ–ˆâ–ˆâ–ˆ  â† Highlights and links                  â”‚
â”‚                                                                         â”‚
â”‚  Medium confidence (may be useful):                                     â”‚
â”‚  â—‹ #425466  â–ˆâ–ˆâ–ˆâ–ˆ   â—‹ #7a73ff  â–ˆâ–ˆâ–ˆâ–ˆ   â—‹ #1ea672  â–ˆâ–ˆâ–ˆâ–ˆ                   â”‚
â”‚                                                                         â”‚
â”‚  [ ] Include medium confidence colors in design system                  â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  TYPOGRAPHY                                                [Edit âœï¸]   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  Family:    Inter, -apple-system, BlinkMacSystemFont, sans-serif       â”‚
â”‚                                                                         â”‚
â”‚  Detected size scale:                                                   â”‚
â”‚  xs: 12px â”‚ sm: 14px â”‚ base: 16px â”‚ lg: 18px â”‚ xl: 20px â”‚ 2xl: 24px   â”‚
â”‚  3xl: 30px â”‚ 4xl: 36px â”‚ 5xl: 48px                                     â”‚
â”‚                                                                         â”‚
â”‚  Detected weights:  400 (normal)  500 (medium)  600 (semibold)  700    â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  SPACING (Base 4px detected)                               [Edit âœï¸]   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  1: 4px â”‚ 2: 8px â”‚ 3: 12px â”‚ 4: 16px â”‚ 5: 20px â”‚ 6: 24px â”‚ 8: 32px    â”‚
â”‚  10: 40px â”‚ 12: 48px â”‚ 16: 64px â”‚ 20: 80px â”‚ 24: 96px                  â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  SHADOWS                                                   [Edit âœï¸]   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  sm:  0 1px 2px rgba(0,0,0,0.05)        â–‘â–‘                             â”‚
â”‚  md:  0 4px 6px rgba(0,0,0,0.07)        â–’â–’                             â”‚
â”‚  lg:  0 10px 15px rgba(0,0,0,0.1)       â–“â–“                             â”‚
â”‚  xl:  0 20px 25px rgba(0,0,0,0.15)      â–ˆâ–ˆ                             â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  BORDERS                                                   [Edit âœï¸]   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  Radius:   sm: 4px â”‚ md: 8px â”‚ lg: 12px â”‚ xl: 16px â”‚ full: 9999px     â”‚
â”‚  Widths:   1px, 2px                                                    â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                                         â”‚
â”‚  Is everything correct?                                                 â”‚
â”‚                                                                         â”‚
â”‚        [â† Back]        [Adjust Values]        [Confirm & Generate â†’]   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Step 2b: Screenshot Analysis

### Input

User provides 1-5 images (PNG, JPG, WEBP, max 10MB each).

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCREENSHOT ANALYSIS                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Send reference images:                                                 â”‚
â”‚                                                                         â”‚
â”‚  ğŸ’¡ Tips for best results:                                              â”‚
â”‚  â€¢ Include variety (home, form, list views)                            â”‚
â”‚  â€¢ Higher resolution = better color analysis                           â”‚
â”‚  â€¢ Export Figma mockups in high quality                                â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Analysis Process

1. **Visual analysis** of each image
2. **Dominant color extraction** from pixels
3. **Font detection** (approximate, based on visual characteristics)
4. **Layout pattern recognition**

### Confirmation Questions

Because screenshot analysis is approximate, ask confirmation questions:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VISUAL ANALYSIS COMPLETE                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  âš ï¸ Values extracted visually are APPROXIMATE.                         â”‚
â”‚     Please review carefully and adjust exact values.                    â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  DETECTED COLORS                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  I identified these predominant colors:                                 â”‚
â”‚                                                                         â”‚
â”‚  â— Primary (?)    #6366f1  â–ˆâ–ˆâ–ˆâ–ˆ  â† Appears to be main color            â”‚
â”‚  â— Secondary (?)  #1e293b  â–ˆâ–ˆâ–ˆâ–ˆ  â† Text/dark elements                  â”‚
â”‚  â— Background     #ffffff  â–ˆâ–ˆâ–ˆâ–ˆ  â† Main background                     â”‚
â”‚  â— Accent (?)     #22c55e  â–ˆâ–ˆâ–ˆâ–ˆ  â† Seen in success buttons             â”‚
â”‚                                                                         â”‚
â”‚  â“ Confirm: Which is the PRIMARY brand color?                         â”‚
â”‚     â—‹ #6366f1 (purple)                                                  â”‚
â”‚     â—‹ #1e293b (dark blue)                                               â”‚
â”‚     â—‹ Other: [___________]                                              â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  TYPOGRAPHY                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  Detected a modern sans-serif font, possibly:                           â”‚
â”‚  â€¢ Inter, Roboto, SF Pro, or similar                                   â”‚
â”‚                                                                         â”‚
â”‚  â“ Which font do you want to use?                                     â”‚
â”‚     â—‹ Inter (recommended, free)                                         â”‚
â”‚     â—‹ Roboto                                                            â”‚
â”‚     â—‹ SF Pro (Apple only)                                               â”‚
â”‚     â—‹ Other: [___________]                                              â”‚
â”‚                                                                         â”‚
â”‚  â“ Which size scale to use?                                           â”‚
â”‚     â—‹ Tailwind (12, 14, 16, 18, 20, 24, 30, 36, 48, 60, 72)            â”‚
â”‚     â—‹ Material Design (12, 14, 16, 20, 24, 34, 48, 60)                 â”‚
â”‚     â—‹ Custom: [Define â†’]                                                â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  SPACING                                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  Appears to use a consistent spacing system.                            â”‚
â”‚                                                                         â”‚
â”‚  â“ Which spacing base to use?                                         â”‚
â”‚     â—‹ 4px (more granular: 4, 8, 12, 16, 20, 24...)                     â”‚
â”‚     â—‹ 8px (more common: 8, 16, 24, 32, 40, 48...)                      â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  SHADOWS AND BORDERS                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  Observed:                                                              â”‚
â”‚  â€¢ Subtle shadows on cards                                              â”‚
â”‚  â€¢ Medium border radius (~8px apparent)                                 â”‚
â”‚                                                                         â”‚
â”‚  â“ Shadow style?                                                       â”‚
â”‚     â—‹ Subtle (Tailwind-like)                                            â”‚
â”‚     â—‹ Pronounced (Material-like)                                        â”‚
â”‚     â—‹ No shadows (flat design)                                          â”‚
â”‚                                                                         â”‚
â”‚  â“ Border radius?                                                      â”‚
â”‚     â—‹ Soft (4px, 8px, 12px)                                             â”‚
â”‚     â—‹ Rounded (8px, 16px, 24px)                                         â”‚
â”‚     â—‹ Minimal (2px, 4px, 6px)                                           â”‚
â”‚                                                                         â”‚
â”‚        [â† Back]                         [Generate Design System â†’]      â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Missing Information

If crucial information couldn't be extracted, ask explicitly:

```
â“ I couldn't determine the following. Please provide:

1. Primary brand color (hex): [#________]
2. Font family preference: [___________]
3. Do you want dark mode? â—‹ Yes  â—‹ No
```

---

## Step 2c: Manual Questionnaire

12-15 structured questions covering all design tokens.

### Question Categories

| # | Category | Questions |
|---|----------|-----------|
| 1-2 | Colors | Primary, secondary, semantic colors |
| 3-4 | Typography | Font family, code font |
| 5-6 | Typography | Size scale, weights |
| 7-8 | Spacing | Base unit, scale |
| 9-10 | Shadows | Style, intensity |
| 11 | Borders | Radius scale |
| 12 | Dark Mode | Include or not |

### Question Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DESIGN SYSTEM QUESTIONNAIRE                                            â”‚
â”‚     Question 1 of 12                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ¨ BRAND COLORS                                                        â”‚
â”‚                                                                         â”‚
â”‚  What is your PRIMARY brand color?                                      â”‚
â”‚  (Used in main buttons, links, highlight elements)                      â”‚
â”‚                                                                         â”‚
â”‚  [#________] ğŸ¨  or choose a preset:                                    â”‚
â”‚                                                                         â”‚
â”‚  â—‹ #3b82f6 â–ˆâ–ˆâ–ˆâ–ˆ Blue                                                   â”‚
â”‚  â—‹ #8b5cf6 â–ˆâ–ˆâ–ˆâ–ˆ Purple                                                 â”‚
â”‚  â—‹ #22c55e â–ˆâ–ˆâ–ˆâ–ˆ Green                                                  â”‚
â”‚  â—‹ #f59e0b â–ˆâ–ˆâ–ˆâ–ˆ Orange                                                 â”‚
â”‚  â—‹ #ef4444 â–ˆâ–ˆâ–ˆâ–ˆ Red                                                    â”‚
â”‚  â—‹ #06b6d4 â–ˆâ–ˆâ–ˆâ–ˆ Cyan                                                   â”‚
â”‚                                                                         â”‚
â”‚                    [â† Previous]    [Next â†’]                             â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DESIGN SYSTEM QUESTIONNAIRE                                            â”‚
â”‚     Question 2 of 12                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ¨ ADDITIONAL COLORS                                                   â”‚
â”‚                                                                         â”‚
â”‚  What SECONDARY color?                                                  â”‚
â”‚  (Support elements, text, alternate backgrounds)                        â”‚
â”‚                                                                         â”‚
â”‚  [#________] ğŸ¨                                                         â”‚
â”‚                                                                         â”‚
â”‚  [ ] Auto-generate complementary palette                                â”‚
â”‚      (based on primary color)                                           â”‚
â”‚                                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                                         â”‚
â”‚  Include standard semantic colors?                                      â”‚
â”‚                                                                         â”‚
â”‚  [âœ“] Success (green)    #22c55e â–ˆâ–ˆâ–ˆâ–ˆ                                   â”‚
â”‚  [âœ“] Warning (yellow)   #f59e0b â–ˆâ–ˆâ–ˆâ–ˆ                                   â”‚
â”‚  [âœ“] Error (red)        #ef4444 â–ˆâ–ˆâ–ˆâ–ˆ                                   â”‚
â”‚  [âœ“] Info (blue)        #3b82f6 â–ˆâ–ˆâ–ˆâ–ˆ                                   â”‚
â”‚                                                                         â”‚
â”‚                    [â† Previous]    [Next â†’]                             â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DESIGN SYSTEM QUESTIONNAIRE                                            â”‚
â”‚     Question 5 of 12                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ”¤ TYPOGRAPHY                                                          â”‚
â”‚                                                                         â”‚
â”‚  Which main font family?                                                â”‚
â”‚                                                                         â”‚
â”‚  â—‹ Inter          (modern, clean, great readability)                   â”‚
â”‚  â—‹ Roboto         (Google, familiar, versatile)                        â”‚
â”‚  â—‹ Open Sans      (classic, professional)                              â”‚
â”‚  â—‹ Poppins        (geometric, friendly)                                â”‚
â”‚  â—‹ Source Sans    (Adobe, technical)                                   â”‚
â”‚  â—‹ Nunito         (rounded, friendly)                                  â”‚
â”‚  â—‹ Other: [___________________]                                         â”‚
â”‚                                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                                         â”‚
â”‚  Use a different font for code?                                         â”‚
â”‚                                                                         â”‚
â”‚  â—‹ Yes â†’ [JetBrains Mono â–¼]                                             â”‚
â”‚  â—‹ No, use the same                                                     â”‚
â”‚                                                                         â”‚
â”‚                    [â† Previous]    [Next â†’]                             â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DESIGN SYSTEM QUESTIONNAIRE                                            â”‚
â”‚     Question 12 of 12                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸŒ™ DARK MODE                                                           â”‚
â”‚                                                                         â”‚
â”‚  Generate tokens for dark mode?                                         â”‚
â”‚                                                                         â”‚
â”‚  â—‹ Yes, auto-generate (invert palette)                                  â”‚
â”‚  â—‹ Yes, but I'll define colors manually later                           â”‚
â”‚  â—‹ No, light mode only                                                  â”‚
â”‚                                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                                         â”‚
â”‚  âœ… Questionnaire complete!                                             â”‚
â”‚                                                                         â”‚
â”‚                    [â† Previous]    [Generate Design System â†’]           â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Step 3: Generate Files

After confirmation, generate the design system files.

### Files Generated

1. **`design/tokens.json`** - DTCG format (see dtcg-spec.md)
2. **`design/{stack-config}`** - Stack-specific configuration:
   - Tailwind: `tailwind.config.ts`
   - CSS vanilla: `variables.css`
   - SASS: `_variables.scss`
   - CSS-in-JS: `theme.ts`
3. **`design/README.md`** - Human-readable documentation

### Completion Screen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… DESIGN SYSTEM GENERATED                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Your DTCG file was created successfully!                              â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“„ design/tokens.json                                                  â”‚
â”‚  â”œâ”€â”€ 12 colors (4 brand + 4 semantic + 4 neutral)                       â”‚
â”‚  â”œâ”€â”€ 9 font sizes                                                       â”‚
â”‚  â”œâ”€â”€ 4 font weights                                                     â”‚
â”‚  â”œâ”€â”€ 12 spacing values                                                  â”‚
â”‚  â”œâ”€â”€ 4 shadows                                                          â”‚
â”‚  â””â”€â”€ 5 border-radius values                                             â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“„ design/tailwind.config.ts                                           â”‚
â”‚  â””â”€â”€ Theme extension with all tokens mapped                             â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“„ design/README.md                                                    â”‚
â”‚  â””â”€â”€ Human-readable documentation                                       â”‚
â”‚                                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                                         â”‚
â”‚  These tokens will be used automatically when generating UI             â”‚
â”‚  components via the frontend-design skill.                              â”‚
â”‚                                                                         â”‚
â”‚                                    [Continue to Project Setup â†’]        â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Integration with frontend-design Skill

When the `wxcode-executor` detects a UI generation task:

1. **Check for design tokens:**
   ```bash
   [ -f design/tokens.json ] && echo "DESIGN SYSTEM FOUND"
   ```

2. **Read tokens and include as context:**
   ```
   /frontend-design

   ## Design System (Source of Truth)

   Use these design tokens for all visual decisions.
   Do NOT deviate from these values unless explicitly requested.

   ```json
   {content of design/tokens.json}
   ```

   ## Task

   {component/page description from the plan}
   ```

3. **The skill generates code using the tokens**

---

## Error Handling

### URL Extraction Failures

| Error | Fallback |
|-------|----------|
| WebFetch blocked (CSP, 403) | Try MCP Playwright |
| Playwright fails | Offer Screenshot or Questionnaire |
| Site requires auth | Ask for screenshot instead |
| No CSS found | Ask for screenshot instead |

### Screenshot Analysis Limitations

| Limitation | Mitigation |
|------------|------------|
| Color calibration variance | Confirmation questions |
| Font detection imprecise | Offer common font presets |
| Exact pixel values unknown | Use standard scales |

---

## References

- **DTCG Spec:** See `.wxcode/conversion/dtcg-spec.md`
- **Template:** See `get-shit-done/templates/design-tokens.json`
- **frontend-design Skill:** Claude Code built-in skill for UI generation
