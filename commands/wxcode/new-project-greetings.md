---
name: wxcode:new-project-greetings
description: Welcome message with project context before starting conversion
allowed-tools:
  - Read
---

<structured_output>
## Structured Output (MANDATORY)

**At command start (emit together with visual banner, no blank line):**
```
<!-- WXCODE:HEADER:{"command":"new-project-greetings","args":"$ARGUMENTS","title":"WXCODE ▶ WELCOME"} -->
## WXCODE ▶ WELCOME
```

**At command end (success):**
```
<!-- WXCODE:STATUS:{"status":"completed","message":"Context loaded"} -->
<!-- WXCODE:NEXT_ACTION:{"command":"new-project","args":"$ARGUMENTS","description":"Initialize project","priority":"recommended"} -->
```

**At command end (error - no argument):**
```
<!-- WXCODE:STATUS:{"status":"failed","message":"Missing CONTEXT.md path"} -->
<!-- WXCODE:ERROR:{"code":"MISSING_ARGUMENT","message":"CONTEXT.md path required","recoverable":true,"suggestion":"Provide path to CONTEXT.md"} -->
```

**At command end (error - file not found):**
```
<!-- WXCODE:STATUS:{"status":"failed","message":"CONTEXT.md not found"} -->
<!-- WXCODE:ERROR:{"code":"FILE_NOT_FOUND","message":"Could not read CONTEXT.md","recoverable":true,"suggestion":"Verify file path"} -->
```
</structured_output>

<objective>
Display a welcome message with project context extracted from CONTEXT.md.

This command serves two purposes:
1. **User experience**: Confirms the project context before starting conversion
2. **Technical**: Allows MCP servers to finish connecting in background

Run this BEFORE `/wxcode:new-project` when starting a new Claude Code session.
</objective>

<process>

## Step 1: Get CONTEXT.md Path

The CONTEXT.md path should be provided as argument:

```
/wxcode:new-project-greetings /path/to/CONTEXT.md
```

**If no argument provided:**

```
<!-- WXCODE:STATUS:{"status":"failed","message":"Missing CONTEXT.md path"} -->
<!-- WXCODE:ERROR:{"code":"MISSING_ARGUMENT","message":"CONTEXT.md path required","recoverable":true,"suggestion":"Provide path to CONTEXT.md"} -->
```

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 WXCODE ► NEW PROJECT GREETINGS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Usage: /wxcode:new-project-greetings /path/to/CONTEXT.md

Provide the path to your CONTEXT.md file generated by WXCODE Conversor.

**STOP if no argument.**

## Step 2: Read CONTEXT.md

Read the file and extract:
- **Project name**: From "Name:" field
- **Stack**: From "Stack:" field
- **Language**: From "Language:" field
- **Framework**: From "Framework:" field
- **Tables count**: Count tables in "Database Schema" section
- **Output Project ID**: From "Output Project ID:" field (if present)

**If file not found or invalid:**

```
<!-- WXCODE:STATUS:{"status":"failed","message":"CONTEXT.md not found"} -->
<!-- WXCODE:ERROR:{"code":"FILE_NOT_FOUND","message":"Could not read CONTEXT.md","recoverable":true,"suggestion":"Verify file path"} -->
```

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 WXCODE ► ERROR
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Could not read CONTEXT.md at: [path]

Ensure the file exists and is a valid CONTEXT.md from WXCODE Conversor.

**STOP if file invalid.**

## Step 3: Display Welcome

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 WXCODE ► BEM-VINDO
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

**Projeto:** [Project Name]

| Configuração | Valor |
|--------------|-------|
| Stack | [Stack ID] |
| Language | [Language] |
| Framework | [Framework] |
| Tables | [N] |

Contexto carregado e pronto para conversão.

───────────────────────────────────────────────────────

## Próximo Passo

/wxcode:new-project [same CONTEXT.md path]

───────────────────────────────────────────────────────

```
<!-- WXCODE:HEADER:{"command":"new-project-greetings","args":"$ARGUMENTS","title":"WXCODE ► CONTEXT LOADED"} -->
<!-- WXCODE:STATUS:{"status":"completed","message":"Context loaded"} -->
<!-- WXCODE:NEXT_ACTION:{"command":"new-project","args":"[same CONTEXT.md path]","description":"Initialize project","priority":"recommended"} -->
```

**IMPORTANT:** Do NOT suggest running new-project automatically. Let the user copy and run the command. This gives MCP time to connect.

</process>

<success_criteria>
- [ ] CONTEXT.md path received as argument
- [ ] File read and parsed successfully
- [ ] Project info displayed clearly
- [ ] Next step command shown with full path
- [ ] NO MCP tools used (this command must work without MCP)
</success_criteria>
